geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() + theme(text = element_text(size = 12))
df %>% filter(
scenario != "percent_change",
indicator == output_names[2],
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12)) +
ylab ("New HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == output_names[2],
year >= 2020, intervention_year == 2025) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12)) +
ylab ("New HIV infections")
(output_names[2]
output_names[2]
output_names[3]
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV" |
indicator == "LYlostAIDS" |
indicator == "TotalAIDSdeathsadult" |
year >= 2020, intervention_year == 2025) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~indicator) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12)) +
ylab ("New HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV"
year >= 2020, intervention_year == 2025) %>%
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~indicator) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12)) +
ylab ("New HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12)) +
ylab ("New HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12)) +
ylab ("New HIV infections") + ggtitle
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20))) +
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV infections") + ggtitle("NEw HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV infections") + ggtitle("Nww HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV infections") + ggtitle("New HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV infections")
output_names[3]
output_names[2
df %>% filter(
df %>% filter(
scenario != "percent_change",
indicator == "TotalAIDSdeathsadult",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV infections")
df %>% filter(
scenario != "percent_change",
indicator == "TotalAIDSdeathsadult",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("AIDS-related deaths")
df %>% filter(
scenario != "percent_change",
indicator == "LYlostAIDS",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("AIDS-related deaths")
df %>% filter(
scenario != "percent_change",
indicator == "LYlostAIDS",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("Life-years lost")
output_names[8]
df %>% filter(
scenario != "percent_change",
indicator == "Number1stHIVtestsPos",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV diagnoses")
df %>% filter(
scenario != "percent_change",
indicator == "Pct1stHIVTestPos",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV diagnoses")
df %>% filter(
scenario != "percent_change",
indicator == "Pct1stHIVTestPos",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("Positive tests (%)")
output_names[11]
df %>% filter(
scenario != "percent_change",
indicator == "NewDiagnosesPregnancy",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV diagnoses")
df %>% filter(
scenario != "percent_change",
indicator == "PctANCTestPos",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("Positive tests (%)")
df %>% filter(
scenario != "percent_change",
indicator == "NewDiagPerInfection",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV diagnoses : New HIV Infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewANCDiagPerInfection",
year >= 2020, intervention_year == 2025 | intervention_year == 2050) %>%
group_by(year, scenario, intervention_year) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(year, median, fill = scenario)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, group = scenario), alpha = 0.25) +
geom_line(aes(color = scenario)) +
ggtitle("") +
xlab("Years") +
facet_wrap(~intervention_year) + expand_limits(y=0) + theme_bw() +
theme(text = element_text(size = 12), strip.text = element_text(size = 20)) +
ylab ("New HIV diagnoses at ANC : New HIV Infections")
df %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV" |
indicator == "LYlostAIDS" |
indicator =="TotalAIDSdeathsadult") %>%
group_by(indicator, intervention_year, scenario) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(intervention_year, median, fill = scenario)) +
geom_point(aes(color = scenario), shape = 15) +
geom_errorbar(aes(ymin = lower_CI, ymax = upper_CI, color = scenario), width = 0.1) +
xlab("Years") + ylab("Cumulative value") +
facet_wrap(~indicator, scales = "free_y",
labeller = labeller(indicator = c(
"LYlostAIDS" = "Life-years lost to AIDS",
"NewDiagnosesPregnancy" = "First-time diagnoses at ANC",
"Number1stHIVtestsPos" = "First-time diagnoses",
"RediagnosesPregnancy" = "Re-diagnoses at ANC",
"StartingARTtot" = "ART inititation",
"TotalAIDSdeathsadult" = "AIDS-related deaths in adults",
"TotalHIVtests" = "Total HIV tests",
"TotalNewHIV" = "New HIV infections",
"TotANCtests" = "HIV tests at ANC",
"ARTinititationRatio" = "ART initation : New diagnoses",
"ARTInitPerNewInfection" = "ART initation : New infections",
"NewANCDiagPerInfection" = "New ANC diagnosis : New infections",
"NewDiagPerInfection" = "New diagnosis : New infections",
"Pct1stHIVTestPos" = "Percentage first test positive",
"PctANCTestPos" = "Percentage first test positive at ANC",
"TotalARTratio" = "Total ART : Total HIV diagnoses",
"NewAdultHIV" = "New HIV infections in adults")),nrow = 3) +
expand_limits(y=0) + theme_bw() + theme(text = element_text(size = 12))
cumulative_values <- calc_all_cumulatives(intervention_years, 20)
cumulative_values <- cumulative_values %>%
pivot_wider(names_from = scenario, values_from = cumulative) %>%
mutate(percent_change = ((intervention - baseline)/baseline)*100) %>%
pivot_longer(-(indicator:parameter_set), names_to = "scenario")
# establish intervention years
intervention_years <- seq(2025, 2050, 5)
cumulative_values <- calc_all_cumulatives(intervention_years, 20)
cumulative_values <- cumulative_values %>%
pivot_wider(names_from = scenario, values_from = cumulative) %>%
mutate(percent_change = ((intervention - baseline)/baseline)*100) %>%
pivot_longer(-(indicator:parameter_set), names_to = "scenario")
cumulative_values$indicator <-
factor(cumulative_values$indicator,
levels = c("TotalHIVtests", "NewAdultHIV",
"TotalAIDSdeathsadult", "LYlostAIDS",
"Number1stHIVtestsPos", "NewDiagnosesPregnancy",
"StartingARTtot", "TotANCtests", "TotalARTratio",
"Pct1stHIVTestPos", "PctANCTestPos","NewDiagPerInfection",
"NewANCDiagPerInfection",
"ARTinititationRatio", "ARTInitPerNewInfection"))
cumulative_values %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV" |
indicator == "LYlostAIDS" |
indicator =="TotalAIDSdeathsadult") %>%
group_by(indicator, intervention_year, scenario) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(intervention_year, median, fill = scenario)) +
geom_point(aes(color = scenario), shape = 15) +
geom_errorbar(aes(ymin = lower_CI, ymax = upper_CI, color = scenario), width = 0.1) +
xlab("Years") + ylab("Cumulative value") +
facet_wrap(~indicator, scales = "free_y",
labeller = labeller(indicator = c(
"LYlostAIDS" = "Life-years lost to AIDS",
"NewDiagnosesPregnancy" = "First-time diagnoses at ANC",
"Number1stHIVtestsPos" = "First-time diagnoses",
"RediagnosesPregnancy" = "Re-diagnoses at ANC",
"StartingARTtot" = "ART inititation",
"TotalAIDSdeathsadult" = "AIDS-related deaths in adults",
"TotalHIVtests" = "Total HIV tests",
"TotalNewHIV" = "New HIV infections",
"TotANCtests" = "HIV tests at ANC",
"ARTinititationRatio" = "ART initation : New diagnoses",
"ARTInitPerNewInfection" = "ART initation : New infections",
"NewANCDiagPerInfection" = "New ANC diagnosis : New infections",
"NewDiagPerInfection" = "New diagnosis : New infections",
"Pct1stHIVTestPos" = "Percentage first test positive",
"PctANCTestPos" = "Percentage first test positive at ANC",
"TotalARTratio" = "Total ART : Total HIV diagnoses",
"NewAdultHIV" = "New HIV infections in adults")),nrow = 3) +
expand_limits(y=0) + theme_bw() + theme(text = element_text(size = 12))
cumulative_values %>% filter(
scenario != "percent_change",
indicator == "NewAdultHIV" |
indicator == "LYlostAIDS" |
indicator =="TotalAIDSdeathsadult") %>%
group_by(indicator, intervention_year, scenario) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(intervention_year, median, fill = scenario)) +
geom_point(aes(color = scenario), shape = 15) +
geom_errorbar(aes(ymin = lower_CI, ymax = upper_CI, color = scenario), width = 0.1) +
xlab("Years") + ylab("Cumulative value") +
facet_wrap(~indicator, scales = "free_y",
labeller = labeller(indicator = c(
"LYlostAIDS" = "Life-years lost to AIDS",
"NewDiagnosesPregnancy" = "First-time diagnoses at ANC",
"Number1stHIVtestsPos" = "First-time diagnoses",
"RediagnosesPregnancy" = "Re-diagnoses at ANC",
"StartingARTtot" = "ART inititation",
"TotalAIDSdeathsadult" = "AIDS-related deaths in adults",
"TotalHIVtests" = "Total HIV tests",
"TotalNewHIV" = "New HIV infections",
"TotANCtests" = "HIV tests at ANC",
"ARTinititationRatio" = "ART initation : New diagnoses",
"ARTInitPerNewInfection" = "ART initation : New infections",
"NewANCDiagPerInfection" = "New ANC diagnosis : New infections",
"NewDiagPerInfection" = "New diagnosis : New infections",
"Pct1stHIVTestPos" = "Percentage first test positive",
"PctANCTestPos" = "Percentage first test positive at ANC",
"TotalARTratio" = "Total ART : Total HIV diagnoses",
"NewAdultHIV" = "New HIV infections in adults")),nrow = 1) +
expand_limits(y=0) + theme_bw() + theme(text = element_text(size = 12))
cumulative_values %>% filter(
scenario == "percent_change",
indicator == "NewAdultHIV" |
indicator == "LYlostAIDS" |
indicator =="TotalAIDSdeathsadult") %>%
group_by(indicator, intervention_year, scenario) %>%
summarise(median = median(value), upper_CI = quantile(value, probs = 0.975),
lower_CI = quantile(value, probs = 0.025)) %>%
ggplot(aes(intervention_year, median, fill = scenario)) +
geom_point(shape = 15, color = "#00BFC4") +
geom_errorbar(aes(ymin = lower_CI, ymax = upper_CI), width = 0.1, color = "#00BFC4") +
xlab("Years") + ylab("Change from baseline (%)") +
facet_wrap(~indicator, scales = "free_y",
labeller = labeller(indicator = c(
"LYlostAIDS" = "Life-years lost to AIDS",
"NewDiagnosesPregnancy" = "First-time diagnoses at ANC",
"Number1stHIVtestsPos" = "First-time diagnoses",
"RediagnosesPregnancy" = "Re-diagnoses at ANC",
"StartingARTtot" = "ART inititation",
"TotalAIDSdeathsadult" = "AIDS-related deaths in adults",
"TotalHIVtests" = "Total HIV tests",
"TotalNewHIV" = "New HIV infections",
"TotANCtests" = "HIV tests at ANC",
"ARTinititationRatio" = "ART initation : New diagnoses",
"ARTInitPerNewInfection" = "ART initation : New infections",
"NewANCDiagPerInfection" = "New ANC diagnosis : New infections",
"NewDiagPerInfection" = "New diagnosis : New infections",
"Pct1stHIVTestPos" = "Percentage first test positive",
"PctANCTestPos" = "Percentage first test positive at ANC",
"TotalARTratio" = "Total ART : Total HIV diagnoses",
"NewAdultHIV" = "New HIV infections in adults")),nrow = 1) +
expand_limits(y=0) + theme_bw() + theme(text = element_text(size = 12))
