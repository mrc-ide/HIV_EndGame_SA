scenario == "absolute_dif",
pitc_reduction_year == 2025,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.5) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = F) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
art_int_rate >= 0.78,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.5) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = F) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
View(test_reduction_only)
View(test_reduction_only)
0.004888065 - 0.0018298100
incidence_change %>%
filter(pitc_reduction_percentage == 0 | pitc_reduction_percentage == 20 | pitc_reduction_percentage == 80 | pitc_reduction_percentage == 100) %>%
mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
pitc_reduction_percentage = as.factor(pitc_reduction_percentage)) %>%
ggplot(aes(pitc_reduction_year, change_mean, group = pitc_reduction_percentage,color = pitc_reduction_percentage)) +
geom_crossbar(aes(ymin = change_lower_ci, ymax = change_upper_ci, fill = pitc_reduction_percentage),alpha = 0.5, show.legend = T,width = 0.1) +
geom_point(aes(color = pitc_reduction_percentage), shape = 18, size =2, show.legend = T, color = "white") +
scale_fill_discrete(labels = c("No testing reduction", "20% testing reduction", "80% testing reduction", "100% testing reduction")) +
scale_color_discrete(labels = c("No testing reduction", "20% testing reduction", "80% testing reduction", "100% testing reduction")) +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) +
theme(legend.title = element_blank()) +
scale_y_continuous("Change in HIV incidence per 1000 (15-49 years) over 50 years", labels =(function(l) {round(l*1e3,1)}), breaks = c(0, 0.001, 0.002, 0.003, 0.004, 0.005, 0.006)) +
xlab("Testing reduction year")
incidence_change %>%
filter(pitc_reduction_percentage == 0 | pitc_reduction_percentage == 20 | pitc_reduction_percentage == 80 | pitc_reduction_percentage == 100) %>%
mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
pitc_reduction_percentage = as.factor(pitc_reduction_percentage)) %>%
ggplot(aes(pitc_reduction_year, change_mean, group = pitc_reduction_percentage,color = pitc_reduction_percentage)) +
geom_crossbar(aes(ymin = change_lower_ci, ymax = change_upper_ci, fill = pitc_reduction_percentage),alpha = 0.5, show.legend = T,width = 0.1) +
geom_point(aes(color = pitc_reduction_percentage), shape = 18, size =2, show.legend = T, color = "white") +
# scale_fill_discrete(labels = c("No testing reduction", "20% testing reduction", "80% testing reduction", "100% testing reduction")) +
# scale_color_discrete(labels = c("No testing reduction", "20% testing reduction", "80% testing reduction", "100% testing reduction")) +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) +
theme(legend.title = element_blank()) +
scale_y_continuous("Change in HIV incidence per 1000 (15-49 years) over 50 years", labels =(function(l) {round(l*1e3,1)}), breaks = c(0, 0.001, 0.002, 0.003, 0.004, 0.005, 0.006)) +
xlab("Testing reduction year")
View(incidence_change)
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(as.factor(test_reduction), mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_crossbar(aes(ymin = lower_CI, ymax = upper_CI, color = as.factor(art_int_rate)), show.legend = T,width = 0.5, position = position_dodge(width = 1), alpha = 0.8) +
geom_point(aes(color = as.factor(pitc_reduction_year)), shape = 18, size =1, position = position_dodge(width = 1), show.legend = F, color = "white") +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
art_int_rate >= 0.78,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.5) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = F) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#art_int_rate >= 0.78,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.5) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = F) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#art_int_rate >= 0.78,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = F) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#art_int_rate >= 0.78,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = F,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#art_int_rate >= 0.78,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
art_int_rate == c(0.53,0.78),
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
art_int_rate == c(0.53|0.78),
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
art_int_rate == 0.53 | 0.78,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
art_int_rate == 0.53 |
art_int_rate == 0.67 |
art_int_rate == 0.78 |
art_int_rate == 0.85 |
art_int_rate == 0.9,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate") +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate", labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
scale_color_discrete("Female ART \nretention rate") +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate", labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
scale_color_discrete("Female ART \nretention rate"labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.1) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate", labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
scale_color_discrete("Female ART \nretention rate",labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
#test_reduction != 10, test_reduction !=30, test_reduction !=50, test_reduction !=70, test_reduction !=90
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.01) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate", labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
scale_color_discrete("Female ART \nretention rate",labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
cumulative_art_change %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year),
art_int_rate = round((1-art_int_rate),2)) %>%
filter(indicator == "NewAdultHIV",
scenario == "absolute_dif",
pitc_reduction_year == 2025,
test_reduction >=80,
) %>%
ggplot(aes(test_reduction, mean, group = as.factor(art_int_rate), fill = as.factor(art_int_rate))) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI), show.legend = T,alpha = 0.01) +
geom_line(aes(color = as.factor(art_int_rate)),show.legend = T) +
xlab("Testing reduction (%)") + scale_y_continuous("Additional HIV infections (millions)", labels = (function(l) {round(l/1e6,1)})) +
scale_fill_discrete("Female ART \nretention rate", labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
scale_color_discrete("Female ART \nretention rate",labels = c("0.53", "0.61", "0.67", "0.73", "Baseline", "0.82", "0.85", "0.88", "0.90")) +
theme_classic() +
theme(axis.text = element_text(size = 14),
axis.title.y = element_text(size = 14),
axis.title.x = element_text(size = 14),
legend.text = element_text(size = 12)) + geom_hline(aes(yintercept = 0), lty = "dotted")
test_reduction_only_inc_elim <- read_csv("results/test_reduction_only_inc_elim.csv")
test_reduction_only_inc_elim %>% mutate(elimination_year = as.numeric(elimination_year),
pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, elimination_year, group = pitc_reduction_year, color = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
xlab("PITC reduction (%)") +
theme_classic() +
scale_y_continuous("Year HIV eliminaton attained", n.breaks = 10) + expand_limits(y = 2100) +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("PITC \nreduction \nyear")
test_reduction_only_inc_elim %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, mean_incidence_2100, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = lower_ci, ymax = upper_ci, fill = pitc_reduction_year), alpha = 0.10, show.legend = F) +
xlab("PITC reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years) in 2100", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("PITC \nreduction \nyear")
test_reduction_only_inc_elim %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, mean_incidence_2100, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = lower_ci, ymax = upper_ci, fill = pitc_reduction_year), alpha = 0.05, show.legend = F) +
xlab("PITC reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years) in 2100", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("PITC \nreduction \nyear")
test_reduction_only_inc_elim %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, mean_incidence_2100, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = lower_ci, ymax = upper_ci, fill = pitc_reduction_year), alpha = 0.05, show.legend = F) +
xlab("PITC reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years) in 2100", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("Testing \nreduction \nyear")
test_reduction_only_inc_elim %>% mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, mean_incidence_2100, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = lower_ci, ymax = upper_ci, fill = pitc_reduction_year), alpha = 0.05, show.legend = F) +
xlab("Testing reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years) in 2100", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("Testing \nreduction \nyear")
incidence_change %>%
mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, second_mean, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = second_lower_ci, ymax = second_upper_ci, fill = pitc_reduction_year), alpha = 0.05, show.legend = F) +
xlab("Testing reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years) in 2100", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("Testing \nreduction \nyear")
incidence_change %>%
mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, second_mean, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = second_lower_ci, ymax = second_upper_ci, fill = pitc_reduction_year), alpha = 0.05, show.legend = F) +
xlab("Testing reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years) 50 years after reduction", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("Testing \nreduction \nyear")
incidence_change %>%
mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, second_mean, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = second_lower_ci, ymax = second_upper_ci, fill = pitc_reduction_year), alpha = 0.05, show.legend = F) +
xlab("Testing reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years) 50 post-reduction", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("Testing \nreduction \nyear")
incidence_change %>%
mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, second_mean, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = second_lower_ci, ymax = second_upper_ci, fill = pitc_reduction_year), alpha = 0.05, show.legend = F) +
xlab("Testing reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years) \n50 years after testing reduction", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("Testing \nreduction \nyear")
incidence_change %>%
mutate(pitc_reduction_year = as.factor(pitc_reduction_year)) %>%
ggplot(aes(pitc_reduction_percentage, second_mean, group = pitc_reduction_year, fill = pitc_reduction_year)) +
geom_line(aes(color = pitc_reduction_year)) +
geom_ribbon(aes(ymin = second_lower_ci, ymax = second_upper_ci, fill = pitc_reduction_year), alpha = 0.05, show.legend = F) +
xlab("Testing reduction (%)") +
theme_classic() +
scale_y_continuous("HIV incidence per 1000 (15-49 years)\n50 years after testing reduction", labels = (function(l) {round(l*1e3,1)})) +
expand_limits(y = 0) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
theme(axis.text = element_text(size = 12),
axis.title.y = element_text(size = 12),
axis.title.x = element_text(size = 12),
legend.text = element_text(size = 10)) +
scale_color_discrete("Testing \nreduction \nyear")
