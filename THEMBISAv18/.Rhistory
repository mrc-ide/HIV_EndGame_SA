geom_line(aes(colour = test_reduction), show.legend = T) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("AIDS-deaths", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_discrete("General\nHTS\nreduction", labels = c("None", "25%", "50%", "75%", "100%"),) +
scale_color_discrete("General\nHTS\nreduction", labels = c("None", "25%", "50%", "75%", "100%")) +
ggtitle("AIDS-deaths \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "NewAdultHIV",
year >= 2020,
test_reduction %in% c(0,100)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("New HIV infections", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_discrete("General\nHTS\nreduction", labels = c("None", "25%", "50%", "75%", "100%"),) +
scale_color_discrete("General\nHTS\nreduction", labels = c("None", "25%", "50%", "75%", "100%")) +
ggtitle("New HIV infections \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "TotalAIDSdeathsadult",
year >= 2020,
test_reduction %in% c(0, 100)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("AIDS-deaths", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_discrete("General\nHTS\nreduction", labels = c("None", "25%", "50%", "75%", "100%"),) +
scale_color_discrete("General\nHTS\nreduction", labels = c("None", "25%", "50%", "75%", "100%")) +
ggtitle("AIDS-deaths \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "NewAdultHIV",
year >= 2020,
test_reduction %in% c(0,100)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("New HIV infections", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_discrete("General\nHTS\nreduction", labels = c("None", "100%"),) +
scale_color_discrete("General\nHTS\nreduction", labels = c("None", "100%")) +
ggtitle("New HIV infections \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "TotalAIDSdeathsadult",
year >= 2020,
test_reduction %in% c(0, 100)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("AIDS-deaths", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_discrete("General\nHTS\nreduction", labels = c("None", "100%"),) +
scale_color_discrete("General\nHTS\nreduction", labels = c("None", "100%")) +
ggtitle("AIDS-deaths \n(thousands; 15+ years)")
plwh_summary <- read_csv("results/plwh_on_art_red.csv")
setwd("~/Documents/HIV_EndGame_SA/orderly/thembisa_orderly/src/thembisa")
source("R/cluster_function_orderly.R")
setwd("~/Documents/HIV_EndGame_SA/THEMBISAv18")
plwh_summary <- read_csv("results/plwh_on_art_red.csv")
setwd("~/Documents/HIV_EndGame_SA")
plwh_summary <- read_csv("results/plwh_on_art_red.csv")
setwd("~/Documents/HIV_EndGame_SA/THEMBISAv18")
plwh_summary <- read_csv("results/plwh_on_art_red.csv")
plwh_cumulative <- read_csv("results/cumulative_plwh_on_art_red.csv")
cost_summary <- read_csv("results/costs.csv")
cost_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "TotalAdultsOnART",
year >= 2020,
test_reduction %in% c(0, 25, 50, 75, 100)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
scale_x_continuous("",expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_blank(),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("Adults on ART (millions)", labels =(function(l) {paste(round(l/1e6,1), "million")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("Adults on ART\n(15+ years)")
cost_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "TotalAdultsOnART",
year >= 2020,
test_reduction %in% c(0),
discount == 0) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
scale_x_continuous("",expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_blank(),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("Adults on ART (millions)", labels =(function(l) {paste(round(l/1e6,1), "million")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("Adults on ART\n(15+ years)")
cost_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "TotalAdultsOnART",
year >= 2020,
test_reduction %in% c(0),
discount == "undiscounted") %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
scale_x_continuous("",expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_blank(),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("Adults on ART (millions)", labels =(function(l) {paste(round(l/1e6,1), "million")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("Adults on ART\n(15+ years)")
plwh_summary <- read_csv("results/plwh_on_art.csv")
plwh_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "TotalAdultsOnART",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
scale_x_continuous("",expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_blank(),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("Adults on ART (millions)", labels =(function(l) {paste(round(l/1e6,1), "million")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("Adults on ART\n(15+ years)")
plwh_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "TotalAdultsOnART",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
scale_x_continuous("",expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_blank(),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("Adults on ART (millions)", labels =(function(l) {paste(round(l/1e6,1), "million")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("Adults on ART\n(15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "NewAdultHIV",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("New HIV infections", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("New HIV infections \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "TotalAIDSdeathsadult",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = T) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("AIDS-deaths", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("AIDS-deaths \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "NewAdultHIV",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = f) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("New HIV infections", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("New HIV infections \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "NewAdultHIV",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("New HIV infections", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("New HIV infections \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "TotalAIDSdeathsadult",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("AIDS-deaths", labels =(function(l) {round(l/1e3,1)}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("AIDS-deaths \n(thousands; 15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "TotalAIDSdeathsadult",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("AIDS-deaths", labels =(function(l) {paste0(round(l/1e3,1), " thousand")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("AIDS-deaths\n15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "NewAdultHIV",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("New HIV infections", labels =(function(l) {paste0(round(l/1e3,1), " thousand")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("New HIV infections\n(15+ years)")
test_reduction_only %>% mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "intervention",
pitc_reduction_year == 2025,
indicator == "TotalAIDSdeathsadult",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
geom_hline(aes(yintercept = 0.001), lty = "dotted") +
scale_x_continuous("", expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("AIDS-deaths", labels =(function(l) {paste0(round(l/1e3,1), " thousand")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("AIDS-deaths\n(15+ years)")
plwh_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "TotalAdultsOnART",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
scale_x_continuous("",expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("Adults on ART (millions)", labels =(function(l) {paste(round(l/1e6,1), "million")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("Adults on ART\n(15+ years)")
plwh_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "TotalAdultsOnART",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
scale_x_continuous("",expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("Adults on ART", labels =(function(l) {paste(round(l/1e6,1), "million")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("Adults on ART\n(15+ years)")
plwh_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "StartingART_15",
year >= 2020,
test_reduction %in% c(0)) %>%
ggplot(aes(year, mean, group = test_reduction, fill = test_reduction)) +
geom_ribbon(aes(ymin = lower_CI, ymax = upper_CI, fill = test_reduction), alpha = 0.10, show.legend = F) +
geom_line(aes(colour = test_reduction), show.legend = F) +
scale_x_continuous("",expand = c(0, 0)) +
expand_limits(y=0) + theme_classic() +
theme(axis.text = element_text(size = 11),
axis.title.y = element_text(size = 11),
axis.title.x = element_text(size = 11),
legend.text = element_text(size = 11),
plot.title = element_text(size = 11, face = "bold", hjust = 0.5),
aspect.ratio=1,
legend.title = element_text(size = 11)) +
scale_y_continuous("Adults starting ART", labels =(function(l) {paste(round(l/1e3,1), "thousand")}),expand = c(0, 0)) +
scale_fill_manual(name = "General\nHTS\nreduction", breaks = c(0, 25, 50, 75, 100), values = c(`0` = "black", `25` = "#377eb8", `50` = "#4daf4a", `75` = "#984ea3",  `100` = "#ff7f00"),
labels= c("None", 25, 50, 75, 100), aesthetics = c("colour", "fill")) +
ggtitle("Adults starting ART\n(15+ years)")
plwh_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "StartingART_15",
year >= 2020,
test_reduction %in% c(0))
plwh_summary %>%
arrange(test_reduction) %>%
mutate(test_reduction = as.factor(test_reduction)) %>%
filter(scenario == "baseline",
pitc_reduction_year == 2025,
indicator == "StartingART_15")
View(plwh_summary)
